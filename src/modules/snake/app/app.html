<template>
    <div class="main" tabindex="0">
        <arcade-toast background="red"></arcade-toast>
        
        <div class="game">
            <div class="slds-text-heading_large slds-text-align--center">SNAKE v0.1</div>
            <div class="view">
                <arcade-view grid={grid} scale="20" background="black" border="navy" type={view}>
                    <div slot="overlay" if:false={running}>
                        <div class="slds-text-heading_large slds-text-align--center">[enter]<br>to play</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Key</th><th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>[▲][◄][►][▼]</td><td>move</td></tr>
                                <tr><td>[W][A][S][D]</td><td>move</td></tr>
                                <tr><td>[enter]</td><td>start | restart</td></tr>
                            </tbody>
                        </table>
                    </div>
                </arcade-view>
            </div>
        </div>
        <div class="details">
            <select onchange={updateSpeed}>
                <option for:each={modesOptions} for:item="mode" key={mode.name} value={mode.value} selected={mode.selected}>{mode.name}</option>
            </select>
            <br />
            <select onchange={updateView}>
                <option for:each={viewOptions} for:item="view" key={view.name} value={view.name} selected={view.selected}>{view.name}</option>
            </select>
            <h2>SCORE</h2>
            <div class="view">
                <arcade-score digits="7" scale="5" score={score}></arcade-score>
            </div>
            <h4>Length</h4>
            <div class="view">
                <arcade-score digits="7" scale="5" score={length}></arcade-score>
            </div>
        </div>
    </div>
</template>
